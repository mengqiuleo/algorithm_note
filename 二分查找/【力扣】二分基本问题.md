# ã€åŠ›æ‰£ã€‘äºŒåˆ†åŸºæœ¬é—®é¢˜

[TOC]



## å†™åœ¨å‰é¢

è¿™é‡Œæ˜¯å°é£ä¾ PanğŸ¥³ï¼Œç«‹å¿—æˆä¸ºä¸€åä¼˜ç§€çš„å‰ç«¯ç¨‹åºåª›ï¼ï¼ï¼

æœ¬ç¯‡æ–‡ç« åŒæ—¶æ”¶å½•äºæˆ‘çš„[github](https://github.com/mengqiuleo)å‰ç«¯ç¬”è®°ä»“åº“ä¸­ï¼ŒæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿star~

ğŸ‘‰[https://github.com/mengqiuleo/myNote](https://github.com/mengqiuleo/myNote)

<hr>

å¯¹äºåŠ›æ‰£ä¸Šå¸¸è§çš„äºŒåˆ†æŸ¥æ‰¾çš„é¢˜ç›®åœ¨è¿™é‡Œè¿›è¡Œåˆ†ç±»æ€»ç»“ã€‚è¿™é‡Œæ˜¯ç¬¬ä¸€ç§ç±»å‹çš„é¢˜ç›®æ±‡æ€»ã€‚ä¸»è¦æ˜¯ä½¿ç”¨åŸºæœ¬çš„äºŒåˆ†æ¨¡æ¿ã€‚

å¯¹äºäºŒåˆ†çš„åŸºæœ¬çŸ¥è¯†ï¼Œç‚¹å‡»è¿™é‡ŒğŸ‘‰ [ã€LeetCodeã€‘äºŒåˆ†åŸºç¡€æ¨¡æ¿ï¼ŒæŸ¥æ‰¾å·¦å³è¾¹ç•Œ](https://blog.csdn.net/weixin_52834435/article/details/125881904?spm=1001.2014.3001.5501)



## [34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/)

ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚

å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ targetï¼Œè¿”å› [-1, -1]ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 8
è¾“å‡ºï¼š[3,4]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 6
è¾“å‡ºï¼š[-1,-1]
```


ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šnums = [], target = 0
è¾“å‡ºï¼š[-1,-1]
```



**æ€è·¯ï¼š**

è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯é‡‡ç”¨æŠŠåŒºé—´åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†çš„æ€æƒ³ï¼Œ

å¦‚æœäºŒåˆ†æŸ¥æ‰¾çš„åŸºç¡€çŸ¥è¯†ä¸å¤ªæ¸…æ¥šï¼Œå¯ä»¥ç§»æ­¥è¿™é‡Œï¼šğŸ‘‰ [ã€LeetCodeã€‘äºŒåˆ†åŸºç¡€æ¨¡æ¿ï¼ŒæŸ¥æ‰¾å·¦å³è¾¹ç•Œ](https://blog.csdn.net/weixin_52834435/article/details/125881904?spm=1001.2014.3001.5501)

- æ—¢ç„¶æ˜¯æŸ¥æ‰¾å…ƒç´ çš„å·¦å³è¾¹ç•Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¿›è¡Œä¸¤æ¬¡æŸ¥æ‰¾ï¼ŒfindFirstPosition å’Œ findLastPosition

å¯¹äºæŸ¥æ‰¾ **å·¦è¾¹ç•Œ**ï¼š

```js
 const findFirstPosition = function(nums,target){
    let left = 0,right = nums.length - 1;
    while(left < right){
      let mid = left + Math.floor((right - left)/2);
      if(nums[mid] < target){ //å¦‚æœä¸­é—´å€¼å°äºç›®æ ‡å€¼ï¼Œé‚£ä¹ˆå·¦è¾¹ä¸€å®šä¸æ˜¯è§£
        left = mid + 1;
      }else { //ä¸ä¸Šé¢çš„ifç›¸åï¼Œmid >= target,ç­”æ¡ˆæ•´ä½“ä½äºå·¦è¾¹,å¹¶ä¸”midå¯èƒ½ç­‰äºtarget
        //nums[mid] === target å¯èƒ½æ˜¯
        right = mid;
      }
    }

    //é€€å‡ºå¾ªç¯åï¼Œleft=rightï¼Œä½†å…¶å®æ­¤æ—¶midå¹¶æ²¡æœ‰åˆ¤æ–­ï¼Œéœ€è¦å†åˆ¤æ–­ä¸€æ¬¡
    if(nums[right] === target){
      return left;
    }
    return -1;
 }
```

- whileå¾ªç¯é‡‡ç”¨ left < right
- å½“ `nums[mid] < target` æ—¶ï¼Œè¡¨ç¤ºç›®æ ‡å…ƒç´ ä½äºmid çš„å³è¾¹ï¼Œé‚£ä¹ˆå·¦è¾¹ä¸€å®šä¸æ˜¯è§£ã€‚æ‰€ä»¥ `left = mid + 1`

- é‚£ä¹ˆelseä¸ä¸Šé¢çš„ç›¸åï¼Œå¦‚æœç›´æ¥å¥—ç”¨æ¨¡æ¿ï¼Œelseä¸­å°±æ˜¯ `right = mid`ã€‚å¹¶ä¸”æ ¹æ®æ¨¡æ¿å¯çŸ¥ï¼Œmidè®¡ç®—æ—¶ä¸ç”¨åŠ ä¸€
- å½“é€€å‡ºå¾ªç¯æ—¶ï¼Œleft=rightã€‚ä½†æ˜¯è¿˜æ˜¯åœ¨åŸºç¡€ç”¨æ³•ä¸­è¯´çš„ï¼Œæˆ‘ä»¬åªæ˜¯è‡ªå·±æ±‚å‡ºäº†ä¸€ä¸ªå€¼ï¼Œå¹¶æ²¡æœ‰å¯¹è¿™ä¸ªå€¼è¿›è¡Œåˆ¤æ–­ï¼Œæ‰€ä»¥æœ€ååœ¨è¿›è¡Œä¸€æ¬¡åˆ¤æ–­ `if(nums[right] === target)`

ä¸Šé¢çš„è§£é‡Šæ˜¯ç›´æ¥å¥—ç”¨æ¨¡æ¿çš„ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬é‡æ–°åˆ†æˆä¸‰ç±»è¿›è¡Œè®¨è®ºï¼Œæœ€åå†åˆå¹¶æˆä¸¤ç±»ã€‚

æ³¨æ„ï¼Œåˆå¹¶æˆä¸¤ç±»ï¼Œæ˜¯ä¸ºäº†ä¿è¯æœ€åè¿”å›çš„left=right

**åˆ†æˆä¸‰ç±»è¿›è¡Œè®¨è®º**

**æƒ…å†µ 1** ï¼šå½“ `nums[mid] < target` æ—¶

- `mid` ä¸€å®šä¸æ˜¯ `target` ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼›
- ç”±äºæ•°ç»„æœ‰åºï¼Œ`mid` çš„å·¦è¾¹ä¸€å®šæ¯” `nums[mid]` è¿˜å°ï¼Œå› æ­¤ `mid` çš„å·¦è¾¹ä¸€å®šä¸æ˜¯ `target` ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼›
- `mid` çš„å³è¾¹æ¯” `nums[mid]` è¿˜å¤§ï¼Œå› æ­¤ `mid` çš„å³è¾¹ **æœ‰å¯èƒ½** å­˜åœ¨ `target` ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚

å› æ­¤ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ `[mid + 1..right]`ï¼Œæ­¤æ—¶è®¾ç½® `left = mid + 1`ï¼›

**æƒ…å†µ 2** ï¼šå½“ `nums[mid] == target` æ—¶

- `mid` æœ‰å¯èƒ½æ˜¯ `target` ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼›
- `mid` çš„å·¦è¾¹ä¹Ÿæœ‰å¯èƒ½æ˜¯ `target` ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼›
- `mid` çš„å³è¾¹ä¸€å®šä¸æ˜¯ `target` ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚

å› æ­¤ä¸‹ä¸€è½®æœç´¢åŒºé—´åœ¨ `[left..mid]`ï¼Œæ­¤æ—¶è®¾ç½® `right = mid`ã€‚

**æƒ…å†µ 3** ï¼šå½“ `nums[mid] > target` æ—¶

- `mid` ä¸€å®šä¸æ˜¯ `target` ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼›
- `mid` çš„å³è¾¹ä¹Ÿä¸€å®šä¸æ˜¯ `target` ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼›
- `mid` çš„å·¦è¾¹æœ‰å¯èƒ½æ˜¯ `target` ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå› æ­¤ä¸‹ä¸€è½®æœç´¢åŒºé—´åœ¨ `[left..mid - 1]`ï¼Œæ­¤æ—¶è®¾ç½® `right = mid - 1`ã€‚

> æŠŠæƒ…å†µ â‘¡ å’Œæƒ…å†µ â‘¢ åˆå¹¶ï¼Œå³å½“ `nums[mid] >= target` çš„æ—¶å€™ï¼Œä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ `[left..mid]`ï¼Œæ­¤æ—¶è®¾ç½® `right = mid`ã€‚

`findLastPosition()` ä¹Ÿå¯ä»¥ç±»ä¼¼åˆ†æï¼Œè¿™é‡Œçœç•¥ã€‚



**å®Œæ•´ä»£ç **

```js
var searchRange = function(nums, target) {
  //æŸ¥æ‰¾å·¦è¾¹ç•Œ
  const findFirstPosition = function(nums,target){
    let left = 0,right = nums.length - 1;
    while(left < right){
      let mid = left + Math.floor((right - left)/2);
      if(nums[mid] < target){ //å¦‚æœä¸­é—´å€¼å°äºç›®æ ‡å€¼ï¼Œé‚£ä¹ˆå·¦è¾¹ä¸€å®šä¸æ˜¯è§£
        left = mid + 1;
      }else {
        right = mid;
      }
    }

    //é€€å‡ºå¾ªç¯åï¼Œleft=rightï¼Œä½†å…¶å®æ­¤æ—¶midå¹¶æ²¡æœ‰åˆ¤æ–­ï¼Œéœ€è¦å†åˆ¤æ–­ä¸€æ¬¡
    if(nums[right] === target){
      return left;
    }
    return -1;
  }

  //æŸ¥æ‰¾å³è¾¹ç•Œ
  const findLastPosition = function(nums,target){
    let left = 0,right = nums.length - 1;
    while(left < right){
      let mid = left + Math.floor((right - left + 1)/2);//è¿™é‡Œéœ€è¦+1ï¼Œé˜²æ­¢æ­»å¾ªç¯
      if(nums[mid] > target){
        right = mid - 1;
      }else{
        left = mid;
      }
    }
    //å› ä¸ºæˆ‘ä»¬æ˜¯å…ˆæŸ¥æ‰¾çš„å·¦è¾¹ç•Œï¼Œæ‰€ä»¥ä¸€å®šä¼šæœ‰å³è¾¹ç•Œï¼Œæ‰€ä»¥åœ¨è¿™é‡Œä¸ç”¨å†æ¬¡åˆ¤æ–­
    /*
    if(nums[right] === target){
      return left;
    }
    */
    return left;
  }

  let len = nums.length;
  if(len === 0){ //ç‰¹æ®Šåˆ¤æ–­
    return [-1,-1];
  }
  let firstPosition = findFirstPosition(nums,target)
  if(firstPosition === -1){//å¦‚æœä¸å­˜åœ¨å·¦è¾¹ç•Œ
    return [-1,-1]
  }
  let lastPosition = findLastPosition(nums,target)
  return [firstPosition,lastPosition]
};
```



## [35. æœç´¢æ’å…¥ä½ç½®](https://leetcode.cn/problems/search-insert-position/)

ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: nums = [1,3,5,6], target = 5
è¾“å‡º: 2
```


ç¤ºä¾‹ 2:

```
è¾“å…¥: nums = [1,3,5,6], target = 2
è¾“å‡º: 1
```


ç¤ºä¾‹ 3:

```
è¾“å…¥: nums = [1,3,5,6], target = 7
è¾“å‡º: 4
```

**å®Œæ•´ä»£ç **

```js
var searchInsert = function(nums, target) {
  let len = nums.length;
  //ç‰¹æ®Šåˆ¤æ–­: å¦‚æœæ’å…¥çš„å…ƒç´ çš„å€¼æ˜¯æœ€å¤§çš„ï¼Œæ’å…¥çš„ä½ç½®æ˜¯åœ¨æœ«å°¾
  if(nums[len - 1] < target){
    return len;
  }

  let left = 0,right = len - 1;
  while(left < right){
    let mid = left + Math.floor((right - left)/2);
    if(nums[mid] >= target){
      right = mid;
    }else {
      left = mid + 1;
    }
  }
  return left;
};
```

**æ€è·¯**

å½“æˆ‘ä»¬æ‰¾ä¸åˆ°ç›®æ ‡å…ƒç´ æ—¶ï¼Œè¦æ‰¾åˆ°æŒ‡å®šå…ƒç´ çš„æ’å…¥ä½ç½®ï¼Œé‚£ä¹ˆ**å…¶å®å°±æ˜¯æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºæŒ‡å®šå…ƒç´ çš„ä½ç½®**ï¼Œç„¶åå°†è¿™ä¸ªå…ƒç´ å‘å³æŒ¤ï¼Œæ•´ä½“å‘å³æŒªä¸€ä¸ªä½ç½®ï¼Œç»™æˆ‘ä»¬çš„æŒ‡å®šå…ƒç´ ç•™å‡ºä½ç½®ï¼Œç„¶åå°†æŒ‡å®šå…ƒç´ æ”¾ä¸Šå»ã€‚

```text
è¾“å…¥: [1, 3, 5, 6], 2
è¾“å‡º: 1
```

**é¢˜ç›®è¦æˆ‘ä»¬è¿”å›ç¬¬ 1 ä¸ª å¤§äºç­‰äº ç›®æ ‡å…ƒç´  `2` çš„ä¸‹æ ‡**

é‚£ä¹ˆè¿™é‡Œç¬¬ä¸€ä¸ªå¤§äº2çš„å…ƒç´ æ˜¯3ï¼Œå®ƒçš„ä¸‹æ ‡æ˜¯1ï¼Œæ‰€ä»¥ç­”æ¡ˆä¸º 1

- å½“ `nums[mid] >= target` æ—¶ï¼Œæ­¤æ—¶è™½ç„¶æ‰¾åˆ°äº†å¤§äºtargetçš„å…ƒç´ çš„ä¸‹æ ‡ï¼Œä½†æ˜¯æˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°çš„åº”è¯¥æ˜¯å°½å¯èƒ½å°çš„æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å‘å·¦æ— é™é€¼è¿‘ã€‚å¹¶ä¸”ï¼Œæ­¤æ—¶æ‰¾åˆ°çš„ mid ä¹Ÿå¯èƒ½å°±æ˜¯ ç¬¬ä¸€ä¸ªå¤§äºç­‰äºæŒ‡å®šå…ƒç´ çš„ä½ç½®ï¼Œä½†æ˜¯ mid å³è¾¹ä¸€å®šä¸æ˜¯æ­£ç¡®ç­”æ¡ˆï¼Œæ‰€ä»¥ `right = mid`

- åœ¨elseä¸­ï¼Œå³ `nums[mid] < target` æ—¶ï¼Œmid ä»¥åŠ midçš„å·¦è¾¹ä¸€å®šä¸æ˜¯æ­£ç¡®ç­”æ¡ˆï¼Œæ‰€ä»¥ä¸‹ä¸€è½®æœç´¢æ—¶ï¼Œåº”è¯¥å‘å³èµ°ï¼Œå¹¶ä¸”æœç´¢çš„å·¦èµ·ç‚¹æ˜¯ mid+1 ï¼Œæ‰€ä»¥`left = mid + 1`



## [275. H æŒ‡æ•° II](https://leetcode.cn/problems/h-index-ii/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ citations ï¼Œå…¶ä¸­ citations[i] è¡¨ç¤ºç ”ç©¶è€…çš„ç¬¬ i ç¯‡è®ºæ–‡è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œcitations å·²ç»æŒ‰ç…§ å‡åºæ’åˆ— ã€‚è®¡ç®—å¹¶è¿”å›è¯¥ç ”ç©¶è€…çš„ h æŒ‡æ•°ã€‚

h æŒ‡æ•°çš„å®šä¹‰ï¼šh ä»£è¡¨â€œé«˜å¼•ç”¨æ¬¡æ•°â€ï¼ˆhigh citationsï¼‰ï¼Œä¸€åç§‘ç ”äººå‘˜çš„ h æŒ‡æ•°æ˜¯æŒ‡ä»–ï¼ˆå¥¹ï¼‰çš„ ï¼ˆn ç¯‡è®ºæ–‡ä¸­ï¼‰æ€»å…±æœ‰ h ç¯‡è®ºæ–‡åˆ†åˆ«è¢«å¼•ç”¨äº†è‡³å°‘ h æ¬¡ã€‚ä¸”å…¶ä½™çš„ n - h ç¯‡è®ºæ–‡æ¯ç¯‡è¢«å¼•ç”¨æ¬¡æ•° ä¸è¶…è¿‡ h æ¬¡ã€‚

æç¤ºï¼šå¦‚æœ h æœ‰å¤šç§å¯èƒ½çš„å€¼ï¼Œh æŒ‡æ•° æ˜¯å…¶ä¸­æœ€å¤§çš„é‚£ä¸ªã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šcitations = [0,1,3,5,6]
è¾“å‡ºï¼š3 
è§£é‡Šï¼šç»™å®šæ•°ç»„è¡¨ç¤ºç ”ç©¶è€…æ€»å…±æœ‰ 5 ç¯‡è®ºæ–‡ï¼Œæ¯ç¯‡è®ºæ–‡ç›¸åº”çš„è¢«å¼•ç”¨äº† 0, 1, 3, 5, 6 æ¬¡ã€‚
     ç”±äºç ”ç©¶è€…æœ‰ 3 ç¯‡è®ºæ–‡æ¯ç¯‡ è‡³å°‘ è¢«å¼•ç”¨äº† 3 æ¬¡ï¼Œå…¶ä½™ä¸¤ç¯‡è®ºæ–‡æ¯ç¯‡è¢«å¼•ç”¨ ä¸å¤šäº 3 æ¬¡ï¼Œæ‰€ä»¥å¥¹çš„ h æŒ‡æ•°æ˜¯ 3 ã€‚
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šcitations = [1,2,100]
è¾“å‡ºï¼š2
```

**æ€è·¯**

> 1. **`N` ç¯‡è®ºæ–‡ä¸­æ€»å…±æœ‰ `h` ç¯‡è®ºæ–‡åˆ†åˆ«è¢«å¼•ç”¨äº†è‡³å°‘ `h` æ¬¡**ï¼›
> 2. **å…¶ä½™çš„ `N - h` ç¯‡è®ºæ–‡æ¯ç¯‡è¢«å¼•ç”¨æ¬¡æ•°ä¸è¶…è¿‡ `h` æ¬¡**ã€‚

h æŒ‡æ•°æ˜¯ **è®ºæ–‡æ•°é‡**ï¼Œä¸æ˜¯å¼•ç”¨æ¬¡æ•°ã€‚

![](./å›¾ç‰‡/275.1.jpg)

![](./å›¾ç‰‡/275.2.jpg)

åˆ†å‰²çº¿æ»¡è¶³çš„æ¡ä»¶æ˜¯ï¼š**åˆ†å‰²çº¿å³è¾¹çš„æœ€å°‘å¼•ç”¨æ¬¡æ•° >= åˆ†å‰²çº¿å³è¾¹çš„è®ºæ–‡ç¯‡æ•°**ã€‚

**ç»“è®º**ï¼šè¿™æ¡åˆ†å‰²çº¿è¶Šé å·¦è¾¹ï¼Œè¯´æ˜è¢«å¼•ç”¨çš„æ¬¡æ•°å¾ˆå¤šï¼Œæ–‡ç« è¿˜å¾ˆå¤šï¼Œh æŒ‡æ•°è¶Šé«˜ã€‚

æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰¾åˆ°åˆ†å‰²çº¿å³è¾¹çš„æœ€é å·¦çš„ä¸€ä¸ªè®ºæ–‡ï¼Œå¹¶ä¸”ä¿è¯è¿™ç¯‡è®ºæ–‡èƒŒå¼•ç”¨çš„æ¬¡æ•°å¤§äºåˆ†å‰²çº¿å³è¾¹çš„è®ºæ–‡æ•°é‡

**æƒ…å†µ 1**ï¼šå¦‚æœ ã€Œåˆ†å‰²çº¿å³è¾¹çš„æœ€å°‘å¼•ç”¨æ¬¡æ•° < åˆ†å‰²çº¿å³è¾¹çš„è®ºæ–‡ç¯‡æ•°ã€ï¼Œè¿™ä¸€ç‚¹å¯ä»¥çœ‹ç¤ºä¾‹ `[0,| 1, 3, 5, 6]`ï¼ŒçŒœæµ‹æœ‰ 4 ç¯‡è®ºæ–‡æœ€å°‘å¼•ç”¨æ¬¡æ•°ä¸º 4 ï¼Œä½†æ˜¯åˆ†å‰²çº¿å³è¾¹çš„æœ€å°å¼•ç”¨æ¬¡æ•°æ‰ä¸º 1ï¼Œè¯´æ˜åˆ†å‰²çº¿å¤ªé å·¦äº†ã€‚ä¸‹ä¸€è½®åº”è¯¥å¾€å³è¾¹æ‰¾ï¼Œå› æ­¤ä¸‹ä¸€è½®æœç´¢åŒºé—´ä¸º `[mid + 1..right]` ï¼Œæ­¤æ—¶è®¾ç½® `left = mid + 1`ã€‚

**æƒ…å†µ 2**ï¼šå‰©ä¸‹çš„éƒ¨åˆ†å°±æ˜¯ã€Œåˆ†å‰²çº¿å³è¾¹çš„æœ€å°‘å¼•ç”¨æ¬¡æ•° >= åˆ†å‰²çº¿å³è¾¹çš„è®ºæ–‡ç¯‡æ•°ã€ï¼Œå®ƒè‚¯å®šåœ¨åŒºé—´ `[left..mid]` é‡Œï¼Œæ­¤æ—¶è®¾ç½® `right = mid`ã€‚

```js
var hIndex = function(citations) {
    let len = citations.length;
    if(len === 0 || citations[len-1] === 0){ //ç‰¹åˆ¤
        return 0;
    }
    let left = 0,right = len - 1;
    while(left < right){
        let mid = left + ((right - left)>>1);
        if(citations[mid] < len - mid){
            left = mid + 1;
        }else {
            right = mid;
        }
    }
    return len - left;
};
```

- `citations[mid]` è¡¨ç¤ºåˆ†å‰²çº¿å³è¾¹çš„æœ€å°‘çš„è¢«å¼•ç”¨æ–‡ç« çš„å¼•ç”¨æ¬¡æ•°ï¼›

- `len - mid` è¡¨ç¤ºåˆ†å‰²çº¿å³è¾¹çš„æ–‡ç« æ•°é‡ï¼›

- é€€å‡ºå¾ªç¯ä»¥åï¼Œ`mid` å°±æ¥åˆ°äº†åˆé€‚çš„ä½ç½®ï¼Œé¢˜ç›®è¦è¿”å›çš„æ˜¯è®ºæ–‡ç¯‡æ•°ï¼Œæ‰€ä»¥éœ€è¦è¿”å› `len - left`ï¼›



## [611. æœ‰æ•ˆä¸‰è§’å½¢çš„ä¸ªæ•°](https://leetcode.cn/problems/valid-triangle-number/)

ç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ä¸­å¯ä»¥ç»„æˆä¸‰è§’å½¢ä¸‰æ¡è¾¹çš„ä¸‰å…ƒç»„ä¸ªæ•°ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: nums = [2,2,3,4]
è¾“å‡º: 3
è§£é‡Š:æœ‰æ•ˆçš„ç»„åˆæ˜¯: 
2,3,4 (ä½¿ç”¨ç¬¬ä¸€ä¸ª 2)
2,3,4 (ä½¿ç”¨ç¬¬äºŒä¸ª 2)
2,2,3
```


ç¤ºä¾‹ 2:

```
è¾“å…¥: nums = [4,2,3,4]
è¾“å‡º: 4
```

**è§£é¢˜æ€è·¯**

èƒ½ç»„æˆä¸‰è§’å½¢ä¸‰æ¡è¾¹çš„æ¡ä»¶ï¼šä¸¤è¾¹ä¹‹å’Œå¤§äºç¬¬ä¸‰è¾¹ã€‚

ä¾æ¬¡æšä¸¾ç¬¬ 1 æ¡è¾¹ `num[i]` å’Œç¬¬ 2 æ¡è¾¹ `nums[j]`ï¼Œæ‰¾ç¬¬ 3 æ¡è¾¹çš„èŒƒå›´ã€‚

ä¸¤è¾¹ä¹‹å’Œå¤§äºç¬¬ä¸‰è¾¹ã€‚æˆ‘ä»¬éœ€è¦åœ¨ `[j + 1..len - 1]` æ‰¾åˆ° **ä¸¥æ ¼å°äºä¸¤è¾¹ä¹‹å’Œçš„åŒºé—´é‡Œå…ƒç´ çš„ä¸ªæ•°**ï¼Œ

![](./å›¾ç‰‡/611.jpg)

åŒºé—´ `[j + 1..len - 1]` å¯ä»¥åˆ’åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼š

- ç¬¬ 1 éƒ¨åˆ†ï¼ˆå›¾ä¸­é»„è‰²éƒ¨åˆ†ï¼‰ï¼šå¯ä»¥ä¸ `nums[i]`ã€`nums[j]` æ„æˆä¸‰è§’å½¢ï¼›
- ç¬¬ 2 éƒ¨åˆ†ï¼ˆå›¾ä¸­çº¢è‰²éƒ¨åˆ†ï¼‰ï¼šä¸å¯ä»¥ä¸ `nums[i]`ã€`nums[j]` æ„æˆä¸‰è§’å½¢ã€‚



**ä»£ç åˆ†æ**

- é¦–å…ˆä½¿ç”¨ä¸¤ä¸ªforå¾ªç¯ï¼Œéå†å‰ä¸¤æ¡è¾¹ã€‚å¯¹äºç¬¬ä¸‰æ¡è¾¹ï¼Œæˆ‘ä»¬éœ€è¦**å¯»æ‰¾åˆ°ç¬¬ä¸‰æ¡è¾¹çš„æœ€å¤§å€¼**ã€‚ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œé‚£ä¹ˆleft=j+1ï¼Œright=len-1

- å¯¹äºæ¯æ¬¡æ±‚ç¬¬ä¸‰æ¡è¾¹ä¹‹å‰ï¼Œéœ€è¦ç‰¹åˆ¤ï¼Œå¦‚æœæ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´ ä»ç„¶å¯ä»¥ç»„æˆä¸‰è§’å½¢ï¼Œé‚£å°±åº”è¯¥åŠ ä¸Š right - j

- `if` è¯­å¥å°±å†™æˆã€Œå¦‚æœ `nums[mid]` å°äºä¸¤è¾¹ä¹‹å’Œã€ï¼Œæ­¤æ—¶ `mid` ä»¥åŠ `mid` çš„å·¦è¾¹éƒ½ä¸æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ï¼Œæ¥ä¸‹æ¥åº”è¯¥åœ¨ `[mid + 1..right]` é‡Œç»§ç»­æŸ¥æ‰¾ï¼Œæ­¤æ—¶è®¾ç½® `left = mid + 1`ã€‚å®ƒçš„åé¢åŒºé—´å°±æ˜¯ `[left..mid]` æ­¤æ—¶è®¾ç½® `right = mid`ã€‚ 

- æœ€åæˆ‘ä»¬æ±‚å‡ºäº†ç¬¬ä¸‰æ¡è¾¹çš„æœ€å¤§å€¼ï¼Œæ­¤æ—¶è¿˜éœ€è¦è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœç°åœ¨çš„leftæ¯”ä¸¤è¾¹ä¹‹å’Œå°ï¼Œé‚£ä¹ˆå°±æ˜¯ï¼š

  left-(j+1)+1 = left-j

  å¦‚æœæ­¤æ—¶çš„leftä¸ç¬¦åˆæ¡ä»¶ï¼Œé‚£ä¹ˆçœŸæ­£çš„ç¬¬ä¸‰æ¡è¾¹çš„æœ€å¤§å€¼åº”è¯¥æ˜¯ï¼šleft-1

```js
var triangleNumber = function(nums) {
  let count = 0;
  nums.sort((a,b) => a-b);
  let len = nums.length;
  for(let i = 0;i < len-2;i++)
  {
      for(let j = i+1;j < len-1;j++)
      {
          let target = nums[i] + nums[j];//å‰ä¸¤æ¡è¾¹çš„å’Œ
          let left = j + 1, right = len - 1;
          if(nums[right] < target){ //ç‰¹åˆ¤ï¼Œå¦‚æœæ•°ç»„çš„æœ€å¤§å…ƒç´ ä»ç„¶èƒ½ç»„æˆä¸‰è§’å½¢
            count += right - j;
            continue;
          }
          while(left < right){
            let mid = Math.floor((right + left)/2);
            if(nums[mid] < target){
              left = mid + 1;
            } else {
              right = mid;
            }
          }
          if(nums[left] < target){
            count += left - j;
          }else {
            count += left - 1 - j;
          }
      }
  }
  return count;
};
```



## [744. å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯](https://leetcode.cn/problems/find-smallest-letter-greater-than-target/)

ç»™ä½ ä¸€ä¸ªæ’åºåçš„å­—ç¬¦åˆ—è¡¨ letters ï¼Œåˆ—è¡¨ä¸­åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚å¦ç»™å‡ºä¸€ä¸ªç›®æ ‡å­—æ¯ targetï¼Œè¯·ä½ å¯»æ‰¾åœ¨è¿™ä¸€æœ‰åºåˆ—è¡¨é‡Œæ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯ã€‚

åœ¨æ¯”è¾ƒæ—¶ï¼Œå­—æ¯æ˜¯ä¾åºå¾ªç¯å‡ºç°çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼š

å¦‚æœç›®æ ‡å­—æ¯ target = 'z' å¹¶ä¸”å­—ç¬¦åˆ—è¡¨ä¸º letters = ['a', 'b']ï¼Œåˆ™ç­”æ¡ˆè¿”å› 'a'


ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥: letters = ["c", "f", "j"]ï¼Œtarget = "a"
è¾“å‡º: "c"
```


ç¤ºä¾‹ 2:

```
è¾“å…¥: letters = ["c","f","j"], target = "c"
è¾“å‡º: "f"
```


ç¤ºä¾‹ 3:

```
è¾“å…¥: letters = ["c","f","j"], target = "d"
è¾“å‡º: "f"
```

**è§£é¢˜æ€è·¯**

è¿™ä¸ªé¢˜ä¹Ÿæ˜¯è¦æ‰¾åˆ°å¤§äºç›®æ ‡å…ƒç´ çš„ç¬¬ä¸€ä¸ªå…ƒç´ 

- é¦–å…ˆè¿›è¡Œç‰¹åˆ¤ï¼Œå¦‚æœæ’å…¥ä½ç½®åœ¨æœ€åï¼Œç›´æ¥è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 

  å¦‚æœ`letters[mid] > target`ï¼Œé‚£ä¹ˆåº”è¯¥å‘å·¦æœç´¢ï¼Œå¹¶ä¸”æ­¤æ—¶çš„midä¹Ÿå¯èƒ½æ˜¯ç­”æ¡ˆï¼Œæ‰€ä»¥æ˜¯`right = mid`

```js
var nextGreatestLetter = function(letters, target) {
    if(target >= letters[letters.length - 1]){ //ç‰¹åˆ¤
        return letters[0];
    }
    let left = 0, right = letters.length - 1;
    while(left < right){
        let mid = left + ((right - left)>>1);
        if(letters[mid] > target){
            right = mid;
        }else{
            left = mid + 1;
        }
    }
    return letters[left];
};
```



## [74. æœç´¢äºŒç»´çŸ©é˜µ](https://leetcode.cn/problems/search-a-2d-matrix/)

ç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥åˆ¤æ–­ m x n çŸ©é˜µä¸­ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªç›®æ ‡å€¼ã€‚è¯¥çŸ©é˜µå…·æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š

- æ¯è¡Œä¸­çš„æ•´æ•°ä»å·¦åˆ°å³æŒ‰å‡åºæ’åˆ—ã€‚
- æ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•´æ•°å¤§äºå‰ä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•´æ•°ã€‚

ç¤ºä¾‹1ï¼š

![](./å›¾ç‰‡/74.1.jpg)

```
è¾“å…¥ï¼šmatrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 3
è¾“å‡ºï¼štrue
```

ç¤ºä¾‹2ï¼š
![](./å›¾ç‰‡/74.2.jpg)

```
è¾“å…¥ï¼šmatrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 13
è¾“å‡ºï¼šfalse
```

**è§£é¢˜æ€è·¯**

ç”±äºäºŒç»´çŸ©é˜µå›ºå®šåˆ—çš„ã€Œä»ä¸Šåˆ°ä¸‹ã€æˆ–è€…å›ºå®šè¡Œçš„ã€Œä»å·¦åˆ°å³ã€éƒ½æ˜¯å‡åºçš„ã€‚

å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸¤æ¬¡äºŒåˆ†æ¥å®šä½åˆ°ç›®æ ‡ä½ç½®ï¼š

ç¬¬ä¸€æ¬¡äºŒåˆ†ï¼šä»ç¬¬ 0 åˆ—ä¸­çš„ã€Œæ‰€æœ‰è¡Œã€å¼€å§‹æ‰¾ï¼Œæ‰¾åˆ°åˆé€‚çš„è¡Œ row

ç¬¬äºŒæ¬¡äºŒåˆ†ï¼šä» row ä¸­ã€Œæ‰€æœ‰åˆ—ã€å¼€å§‹æ‰¾ï¼Œæ‰¾åˆ°åˆé€‚çš„åˆ— col

```js
var searchMatrix = function(matrix, target) {
  let m = matrix.length, n = matrix[0].length;

  //ç¬¬ä¸€æ¬¡äºŒåˆ†
  let left = 0, right = m - 1;
  while(left < right){
    let mid = left + ((right - left + 1)>>1);
    if(matrix[mid][0] <= target){ //åº”è¯¥åœ¨ä¸‹ä¸€è¡Œï¼Œæˆ–è€…midå½“å‰çš„è¡Œä¹Ÿæ˜¯ç­”æ¡ˆ
      left = mid;
    }else{
      right = mid - 1;
    }
  }
  let row = left; //æˆ‘ä»¬åªæ˜¯è‡ªå·±æ±‚å‡ºäº†ä¸€ä¸ªè¡Œæ•°
  if(matrix[row][0] > target) return false; //è¿˜è¦åˆ¤æ–­ç›®æ ‡å€¼åœ¨ä¸åœ¨è¿™ä¸ªè¡Œä¸Š
  left = 0, right = n - 1;
  while(left < right){
    let mid = left + ((right - left + 1)>>1);
    if(matrix[row][mid] <= target){
      left = mid;
    }else{
      right = mid - 1;
    }
  }
  let col = left;
  return matrix[row][col] === target;//æœ€ååˆ¤æ–­æœ‰æ²¡æœ‰æ‰¾åˆ°
};
```

