# ã€LeetCodeã€‘å›æº¯é¢˜è§£æ±‡æ€»

[TOC]

## å†™åœ¨å‰é¢

è¿™é‡Œæ˜¯å°é£ä¾ PanğŸ¥³ï¼Œç«‹å¿—æˆä¸ºä¸€åä¼˜ç§€çš„å‰ç«¯ç¨‹åºåª›ï¼ï¼ï¼

æœ¬ç¯‡æ–‡ç« åŒæ—¶æ”¶å½•äºæˆ‘çš„[github](https://github.com/mengqiuleo)å‰ç«¯ç¬”è®°ä»“åº“ä¸­ï¼ŒæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿star~

ğŸ‘‰[https://github.com/mengqiuleo/myNote](https://github.com/mengqiuleo/myNote)



## 77. ç»„åˆ

[77. ç»„åˆ](https://leetcode.cn/problems/combinations/)

ç»™å®šä¸¤ä¸ªæ•´æ•° `n` å’Œ `k`ï¼Œè¿”å›èŒƒå›´ `[1, n]` ä¸­æ‰€æœ‰å¯èƒ½çš„ `k` ä¸ªæ•°çš„ç»„åˆã€‚

ä½ å¯ä»¥æŒ‰ **ä»»ä½•é¡ºåº** è¿”å›ç­”æ¡ˆã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šn = 4, k = 2
è¾“å‡ºï¼š
[
  [2,4],
  [3,4],
  [2,3],
  [1,2],
  [1,3],
  [1,4],
]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šn = 1, k = 1
è¾“å‡ºï¼š[[1]]
```

**é¢˜è§£æ€è·¯**

![](./å›¾ç‰‡/77.png)

å®šä¹‰ä¸¤ä¸ªå…¨å±€å˜é‡ï¼Œä¸€ä¸ªç”¨æ¥å­˜æ”¾ç¬¦åˆæ¡ä»¶å•ä¸€ç»“æœï¼Œä¸€ä¸ªç”¨æ¥å­˜æ”¾ç¬¦åˆæ¡ä»¶ç»“æœçš„é›†åˆã€‚

éœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œä¸ºå˜é‡startIndexï¼Œå®ƒæ§åˆ¶æ¯ä¸€å±‚éå†çš„èµ·ç‚¹ã€‚åœ¨é›†åˆ[1,2,3,4]å–1ä¹‹åï¼Œä¸‹ä¸€å±‚é€’å½’ï¼Œå°±è¦åœ¨[2,3,4]ä¸­å–æ•°äº†ï¼Œé‚£ä¹ˆä¸‹ä¸€å±‚é€’å½’å¦‚ä½•çŸ¥é“ä»[2,3,4]ä¸­å–æ•°å‘¢ï¼Œé çš„å°±æ˜¯startIndexã€‚

pathè¿™ä¸ªæ•°ç»„çš„å¤§å°å¦‚æœè¾¾åˆ°kï¼Œè¯´æ˜æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªå­é›†å¤§å°ä¸ºkçš„ç»„åˆäº†ã€‚

**å‰ªæ**

ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œn = 4ï¼Œk = 4çš„è¯ï¼Œé‚£ä¹ˆç¬¬ä¸€å±‚forå¾ªç¯çš„æ—¶å€™ï¼Œä»å…ƒç´ 2å¼€å§‹çš„éå†éƒ½æ²¡æœ‰æ„ä¹‰äº†ã€‚ åœ¨ç¬¬äºŒå±‚forå¾ªç¯ï¼Œä»å…ƒç´ 3å¼€å§‹çš„éå†éƒ½æ²¡æœ‰æ„ä¹‰äº†ã€‚

![](./å›¾ç‰‡/77.1.png)

**å¯ä»¥å‰ªæçš„åœ°æ–¹å°±åœ¨é€’å½’ä¸­æ¯ä¸€å±‚çš„forå¾ªç¯æ‰€é€‰æ‹©çš„èµ·å§‹ä½ç½®**ã€‚

**å¦‚æœforå¾ªç¯é€‰æ‹©çš„èµ·å§‹ä½ç½®ä¹‹åçš„å…ƒç´ ä¸ªæ•° å·²ç»ä¸è¶³ æˆ‘ä»¬éœ€è¦çš„å…ƒç´ ä¸ªæ•°äº†ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦æœç´¢äº†**ã€‚

ä¼˜åŒ–è¿‡ç¨‹å¦‚ä¸‹ï¼š

1. å·²ç»é€‰æ‹©çš„å…ƒç´ ä¸ªæ•°ï¼špath.size();
2. è¿˜éœ€è¦çš„å…ƒç´ ä¸ªæ•°ä¸º: k - path.size();
3. åœ¨é›†åˆnä¸­è‡³å¤šè¦ä»è¯¥èµ·å§‹ä½ç½® : n - (k - path.size()) + 1ï¼Œå¼€å§‹éå†

ä¸ºä»€ä¹ˆæœ‰ä¸ª+1å‘¢ï¼Œå› ä¸ºåŒ…æ‹¬èµ·å§‹ä½ç½®ï¼Œæˆ‘ä»¬è¦æ˜¯ä¸€ä¸ªå·¦é—­çš„é›†åˆã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œn = 4ï¼Œk = 3ï¼Œ ç›®å‰å·²ç»é€‰å–çš„å…ƒç´ ä¸º0ï¼ˆpath.sizeä¸º0ï¼‰ï¼Œn - (k - 0) + 1 å³ 4 - ( 3 - 0) + 1 = 2ã€‚

ä»2å¼€å§‹æœç´¢éƒ½æ˜¯åˆç†çš„ï¼Œå¯ä»¥æ˜¯ç»„åˆ[2, 3, 4]ã€‚

```js
let path = [];
let result = [];
var combine = function(n, k) {
    result = [];
    combineHelper(n,k,1);
    return result;
};

const combineHelper = (n,k, startIndex) => {
    if(path.length === k){
        result.push([...path]);
        return;
    }
    for(let i=startIndex; i<=n-(k-path.length)+1; i++){
        path.push(i);
        combineHelper(n,k,i+1);
        path.pop();
    }
}
```



## 216. ç»„åˆæ€»å’Œ III

[216. ç»„åˆæ€»å’Œ III](https://leetcode.cn/problems/combination-sum-iii/)

æ‰¾å‡ºæ‰€æœ‰ç›¸åŠ ä¹‹å’Œä¸º n çš„ k ä¸ªæ•°çš„ç»„åˆï¼Œä¸”æ»¡è¶³ä¸‹åˆ—æ¡ä»¶ï¼š

åªä½¿ç”¨æ•°å­—1åˆ°9
æ¯ä¸ªæ•°å­— æœ€å¤šä½¿ç”¨ä¸€æ¬¡ 
è¿”å› æ‰€æœ‰å¯èƒ½çš„æœ‰æ•ˆç»„åˆçš„åˆ—è¡¨ ã€‚è¯¥åˆ—è¡¨ä¸èƒ½åŒ…å«ç›¸åŒçš„ç»„åˆä¸¤æ¬¡ï¼Œç»„åˆå¯ä»¥ä»¥ä»»ä½•é¡ºåºè¿”å›ã€‚

 

ç¤ºä¾‹ 1:

```
è¾“å…¥: k = 3, n = 7
è¾“å‡º: [[1,2,4]]
è§£é‡Š:
1 + 2 + 4 = 7
æ²¡æœ‰å…¶ä»–ç¬¦åˆçš„ç»„åˆäº†ã€‚
```


ç¤ºä¾‹ 2:

```
è¾“å…¥: k = 3, n = 9
è¾“å‡º: [[1,2,6], [1,3,5], [2,3,4]]
è§£é‡Š:
1 + 2 + 6 = 9
1 + 3 + 5 = 9
2 + 3 + 4 = 9
æ²¡æœ‰å…¶ä»–ç¬¦åˆçš„ç»„åˆäº†ã€‚
```


ç¤ºä¾‹ 3:

```
è¾“å…¥: k = 4, n = 1
è¾“å‡º: []
è§£é‡Š: ä¸å­˜åœ¨æœ‰æ•ˆçš„ç»„åˆã€‚
åœ¨[1,9]èŒƒå›´å†…ä½¿ç”¨4ä¸ªä¸åŒçš„æ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°çš„æœ€å°å’Œæ˜¯1+2+3+4 = 10ï¼Œå› ä¸º10 > 1ï¼Œæ²¡æœ‰æœ‰æ•ˆçš„ç»„åˆã€‚
```

**é¢˜è§£æ€è·¯**

![](./å›¾ç‰‡/216.png)

- åœ¨å›æº¯ä¸­ç´¯åŠ å½“å‰è·¯å¾„çš„å’Œï¼Œå¦‚æœä¿è¯äº†kä¸ªæ•°å¹¶ä¸”å’Œæ»¡è¶³è¦æ±‚ï¼Œå°†å½“å‰è·¯å¾„æ”¾å…¥ç­”æ¡ˆæ•°ç»„ã€‚
- åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨å›æº¯ï¼š`i<=9-(k-path.length)+1`

```js
let result = [];
let path = [];
const backtracking = (targetSum,k,sum,startIndex) => {
    if(sum > targetSum){
        return;
    }
    if(path.length === k){
        if(sum === targetSum) result.push([...path]);
        return;
    }
    for(let i=startIndex; i<=9-(k-path.length)+1; i++){
        sum += i;
        path.push(i);
        backtracking(targetSum,k,sum,i+1);
        sum -= i;
        path.pop();
    }
}

var combinationSum3 = function(k, n) {
    result = [];
    backtracking(n,k,0,1);
    return result;
};
```



## 17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ

[17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ](https://leetcode.cn/problems/letter-combinations-of-a-phone-number/)

ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— 2-9 çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ã€‚

ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚

![](./å›¾ç‰‡/17.png)

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šdigits = "23"
è¾“å‡ºï¼š["ad","ae","af","bd","be","bf","cd","ce","cf"]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šdigits = ""
è¾“å‡ºï¼š[]
```


ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šdigits = "2"
è¾“å‡ºï¼š["a","b","c"]
```

**é¢˜è§£æ€è·¯**

```js
var letterCombinations = function(digits) {
    const k = digits.length;
  // å…ˆå­˜æ”¾æ¯ä¸ªæ•°å­—å¯¹åº”çš„å­—æ¯
    const map = ['','','abc','def','ghi','jkl','mno','pqrs','tuv','wxyz'];
    if(!k) return [];
    if(k==1) return map[digits].split('');

  
  // resultå­˜æ”¾æœ€ç»ˆç»“æœï¼Œ pathå­˜æ”¾æ¯æ¬¡éå†çš„è·¯å¾„
    const result = [], path = [];
    backtracking(digits,k,0);
    return result;
    
// digits:é¢˜ç›®ç»™çš„è¦éå†çš„æ•°ï¼Œk:æœ€ç»ˆæ¯ä¸ªç»“æœåº”è¯¥çš„é•¿åº¦ï¼Œindex:å½“å‰éå†åˆ°äº†å“ªä¸ªæ•°
    function backtracking(digits,k,index){
        if(path.length === k){
            result.push(path.join(''));
            return;
        }
      //digits[index] è¡¨ç¤ºå½“å‰æ•°å­—å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”éå†å½“å‰å­—ç¬¦ä¸²
        for(const ch of map[digits[index]]){
            path.push(ch);
            backtracking(digits,k,index+1);
            path.pop();
        }
    }
};
```



## 39. ç»„åˆæ€»å’Œ

[39. ç»„åˆæ€»å’Œ](https://leetcode.cn/problems/combination-sum/)

ç»™ä½ ä¸€ä¸ª æ— é‡å¤å…ƒç´  çš„æ•´æ•°æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° target ï¼Œæ‰¾å‡º candidates ä¸­å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° target çš„ æ‰€æœ‰ ä¸åŒç»„åˆ ï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è¿™äº›ç»„åˆã€‚

candidates ä¸­çš„ åŒä¸€ä¸ª æ•°å­—å¯ä»¥ æ— é™åˆ¶é‡å¤è¢«é€‰å– ã€‚å¦‚æœè‡³å°‘ä¸€ä¸ªæ•°å­—çš„è¢«é€‰æ•°é‡ä¸åŒï¼Œåˆ™ä¸¤ç§ç»„åˆæ˜¯ä¸åŒçš„ã€‚ 

å¯¹äºç»™å®šçš„è¾“å…¥ï¼Œä¿è¯å’Œä¸º target çš„ä¸åŒç»„åˆæ•°å°‘äº 150 ä¸ªã€‚

 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7
è¾“å‡ºï¼š[[2,2,3],[7]]
è§£é‡Šï¼š
2 å’Œ 3 å¯ä»¥å½¢æˆä¸€ç»„å€™é€‰ï¼Œ2 + 2 + 3 = 7 ã€‚æ³¨æ„ 2 å¯ä»¥ä½¿ç”¨å¤šæ¬¡ã€‚
7 ä¹Ÿæ˜¯ä¸€ä¸ªå€™é€‰ï¼Œ 7 = 7 ã€‚
ä»…æœ‰è¿™ä¸¤ç§ç»„åˆã€‚
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥: candidates = [2,3,5], target = 8
è¾“å‡º: [[2,2,2,2],[2,3,3],[3,5]]
```


ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥: candidates = [2], target = 1
è¾“å‡º: []
```

**é¢˜è§£æ€è·¯**

![](./å›¾ç‰‡/39.png)

**æ³¨æ„æœ¬é¢˜å’Œ 77.ç»„åˆï¼Œ216.ç»„åˆæ€»å’ŒIII çš„ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼šæœ¬é¢˜å…ƒç´ ä¸ºå¯é‡å¤é€‰å–çš„**ã€‚

å¦‚ä½•é‡å¤é€‰å–å‘¢ï¼š

```cpp
for (int i = startIndex; i < candidates.size(); i++) {
    sum += candidates[i];
    path.push_back(candidates[i]);
    backtracking(candidates, target, sum, i); // å…³é”®ç‚¹:ä¸ç”¨i+1äº†ï¼Œè¡¨ç¤ºå¯ä»¥é‡å¤è¯»å–å½“å‰çš„æ•°
    sum -= candidates[i];   // å›æº¯
    path.pop_back();        // å›æº¯
}
```

å‰ªæï¼š

å¦‚æœå·²ç»çŸ¥é“ä¸‹ä¸€å±‚çš„sumä¼šå¤§äºtargetï¼Œå°±æ²¡æœ‰å¿…è¦è¿›å…¥ä¸‹ä¸€å±‚é€’å½’äº†ã€‚

é‚£ä¹ˆå¯ä»¥åœ¨forå¾ªç¯çš„æœç´¢èŒƒå›´ä¸Šåšåšæ–‡ç« äº†ã€‚

**å¯¹æ€»é›†åˆæ’åºä¹‹åï¼Œå¦‚æœä¸‹ä¸€å±‚çš„sumï¼ˆå°±æ˜¯æœ¬å±‚çš„ sum + candidates[i]ï¼‰å·²ç»å¤§äºtargetï¼Œå°±å¯ä»¥ç»“æŸæœ¬è½®forå¾ªç¯çš„éå†**ã€‚

![](./å›¾ç‰‡/39.1.png)

å®Œæ•´ä»£ç ï¼š

```js
var combinationSum = function(candidates, target) {
    const result = [], path = [];
    candidates.sort((a,b) => a-b);
    backtracking(0,0);
    return result;

    function backtracking(index,sum){
      // å‰ªæï¼šå¦‚æœå½“å‰å’Œå·²ç»å¤§äºç›®æ ‡å€¼ï¼Œé‚£å°±æ²¡æœ‰å¿…è¦ç»§ç»­é€’å½’äº†
        if (sum > target) {
            return;
        }
        if(sum === target){
            result.push([...path]);
            return;
        }
      //å‰ªæ
        for(let i=index; i<candidates.length&&sum+candidates[i]<=target; i++){
            path.push(candidates[i]);
            sum += candidates[i];
            backtracking(i,sum);//ä¸‹ä¸€æ¬¡é€’å½’çš„ä¸‹æ ‡ä»ä¸ºi, è¡¨ç¤ºå¯ä»¥é‡å¤å–å€¼
            path.pop();
            sum -= candidates[i];
        }
    }
};
```



## 40. ç»„åˆæ€»å’Œ II

[40. ç»„åˆæ€»å’Œ II](https://leetcode.cn/problems/combination-sum-ii/)

ç»™å®šä¸€ä¸ªå€™é€‰äººç¼–å·çš„é›†åˆ candidates å’Œä¸€ä¸ªç›®æ ‡æ•° target ï¼Œæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º target çš„ç»„åˆã€‚

candidates ä¸­çš„æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ ä¸€æ¬¡ ã€‚

æ³¨æ„ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ 

 

ç¤ºä¾‹ 1:

```
è¾“å…¥: candidates = [10,1,2,7,6,1,5], target = 8,
è¾“å‡º:
[
[1,1,6],
[1,2,5],
[1,7],
[2,6]
]
```


ç¤ºä¾‹ 2:

```
è¾“å…¥: candidates = [2,5,2,1,2], target = 5,
è¾“å‡º:
[
[1,2,2],
[5]
]
```

**é¢˜è§£æ€è·¯**

**æœ¬é¢˜çš„éš¾ç‚¹åœ¨äºï¼šé›†åˆï¼ˆæ•°ç»„candidatesï¼‰æœ‰é‡å¤å…ƒç´ ï¼Œä½†è¿˜ä¸èƒ½æœ‰é‡å¤çš„ç»„åˆ**ã€‚

é¢˜ç›®ä¸­ï¼Œå…ƒç´ åœ¨åŒä¸€ä¸ªç»„åˆå†…æ˜¯å¯ä»¥é‡å¤çš„ï¼Œæ€ä¹ˆé‡å¤éƒ½æ²¡äº‹ï¼Œä½†ä¸¤ä¸ªç»„åˆä¸èƒ½ç›¸åŒã€‚

**å»é‡**

**æ‰€ä»¥æˆ‘ä»¬è¦å»é‡çš„æ˜¯åŒä¸€æ ‘å±‚ä¸Šçš„â€œä½¿ç”¨è¿‡â€ï¼ŒåŒä¸€æ ‘æä¸Šçš„éƒ½æ˜¯ä¸€ä¸ªç»„åˆé‡Œçš„å…ƒç´ ï¼Œä¸ç”¨å»é‡**ã€‚

![](./å›¾ç‰‡/40.png)

å¦‚æœï¼š`i > index && candidates[i]===candidates[i-1]`ï¼Œé‚£å°±éœ€è¦è·³è¿‡å½“å‰å…ƒç´ 



```js
var combinationSum2 = function(candidates, target) {
    const result = [], path = [], len = candidates.length;
    candidates.sort((a,b) => a-b);
    backtracking(0,0);
    return result;

    function backtracking(sum,index){
        if(sum === target){
            result.push([...path]);
            return;
        }
        for(let i=index; i<len&&sum+candidates[i]<=target; i++){
          // å¯¹åŒä¸€æ ‘å±‚ä½¿ç”¨è¿‡çš„å…ƒç´ è¿›è¡Œè·³è¿‡
            if(i > index && candidates[i]===candidates[i-1]){
                continue;
            }
            path.push(candidates[i]);
            sum += candidates[i];
            backtracking(sum, i+1);
            path.pop();
            sum -= candidates[i];
        }
    }
};
```





## 131. åˆ†å‰²å›æ–‡ä¸²

[131. åˆ†å‰²å›æ–‡ä¸²](https://leetcode.cn/problems/palindrome-partitioning/)

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œè¯·ä½ å°† s åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯ å›æ–‡ä¸² ã€‚è¿”å› s æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹æ¡ˆã€‚

å›æ–‡ä¸² æ˜¯æ­£ç€è¯»å’Œåç€è¯»éƒ½ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚

 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šs = "aab"
è¾“å‡ºï¼š[["a","a","b"],["aa","b"]]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šs = "a"
è¾“å‡ºï¼š[["a"]]
```

**é¢˜è§£æ€è·¯**

![](./å›¾ç‰‡/131.jpg)

- åˆ‡å‰²çº¿åˆ‡åˆ°äº†å­—ç¬¦ä¸²æœ€åé¢ï¼Œè¯´æ˜æ‰¾åˆ°äº†ä¸€ç§åˆ‡å‰²æ–¹æ³•ï¼Œæ­¤æ—¶å°±æ˜¯æœ¬å±‚é€’å½’çš„ç»ˆæ­¢ç»ˆæ­¢æ¡ä»¶ã€‚

```js
const isPalindrome = (s,l,r) => {
    for(let i=l,j=r; i<j; i++,j--){
        if(s[i] !== s[j]) return false;
    }
    return true;
}

var partition = function(s) {
    const result = [], path = [], len = s.length;
    backtracking(0);
    return result;

    function backtracking(index){
        // å¦‚æœèµ·å§‹ä½ç½®å·²ç»å¤§äºsçš„å¤§å°ï¼Œè¯´æ˜å·²ç»æ‰¾åˆ°äº†ä¸€ç»„åˆ†å‰²æ–¹æ¡ˆäº†
        if(index >= len){
            result.push([...path]);
            return;
        }
        for(let i=index; i<len; i++){
            if(!isPalindrome(s,index,i)) continue;
            path.push(s.slice(index,i+1));
            backtracking(i+1);
            path.pop();
        }
    }
};
```



## 93. å¤åŸ IP åœ°å€

[93. å¤åŸ IP åœ°å€](https://leetcode.cn/problems/restore-ip-addresses/)

æœ‰æ•ˆ IP åœ°å€ æ­£å¥½ç”±å››ä¸ªæ•´æ•°ï¼ˆæ¯ä¸ªæ•´æ•°ä½äº 0 åˆ° 255 ä¹‹é—´ç»„æˆï¼Œä¸”ä¸èƒ½å«æœ‰å‰å¯¼ 0ï¼‰ï¼Œæ•´æ•°ä¹‹é—´ç”¨ '.' åˆ†éš”ã€‚

ä¾‹å¦‚ï¼š"0.1.2.201" å’Œ "192.168.1.1" æ˜¯ æœ‰æ•ˆ IP åœ°å€ï¼Œä½†æ˜¯ "0.011.255.245"ã€"192.168.1.312" å’Œ "192.168@1.1" æ˜¯ æ— æ•ˆ IP åœ°å€ã€‚
ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„å­—ç¬¦ä¸² s ï¼Œç”¨ä»¥è¡¨ç¤ºä¸€ä¸ª IP åœ°å€ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„æœ‰æ•ˆ IP åœ°å€ï¼Œè¿™äº›åœ°å€å¯ä»¥é€šè¿‡åœ¨ s ä¸­æ’å…¥ '.' æ¥å½¢æˆã€‚ä½  ä¸èƒ½ é‡æ–°æ’åºæˆ–åˆ é™¤ s ä¸­çš„ä»»ä½•æ•°å­—ã€‚ä½ å¯ä»¥æŒ‰ ä»»ä½• é¡ºåºè¿”å›ç­”æ¡ˆã€‚

 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šs = "25525511135"
è¾“å‡ºï¼š["255.255.11.135","255.255.111.35"]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šs = "0000"
è¾“å‡ºï¼š["0.0.0.0"]
```


ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šs = "101023"
è¾“å‡ºï¼š["1.0.10.23","1.0.102.3","10.1.0.23","10.10.2.3","101.0.2.3"]
```

**é¢˜è§£æ€è·¯**

![](./å›¾ç‰‡/93.png)

```js
var restoreIpAddresses = function(s) {
    const result = [], path = [];
    backtracking(0);
    return result;

    function backtracking(index) {
        const len = path.length;
      //å¦‚æœæˆªå–çš„æ•°å­—ä¸ªæ•°è¶…è¿‡4ä¸ªï¼Œä¸ç¬¦åˆæ¡ä»¶
        if(len > 4) return;
        if(len===4 && index===s.length){
            result.push(path.join('.'));
            return;
        }
        for(let i=index; i<s.length; i++){
            const str = s.slice(index, i+1);
          //å¦‚æœæ•°å­—è¶…è¿‡255ï¼Œä¸åˆæ³•
            if(str.length > 3 || +str > 255) break;
          //å¦‚æœæ•°å­—å¼€å¤´æ˜¯0ï¼Œä¸åˆæ³•
            if(str.length > 1 && str[0] === '0') break;
            path.push(str);
            backtracking(i+1);
            path.pop();
        }
    }
};
```



## 78. å­é›†

[78. å­é›†](https://leetcode.cn/problems/subsets/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­çš„å…ƒç´  äº’ä¸ç›¸åŒ ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è§£é›† ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è§£é›†ã€‚

 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = [0]
è¾“å‡ºï¼š[[],[0]]
```

**é¢˜è§£æ€è·¯**

![](./å›¾ç‰‡/78.png)

ç»ˆæ­¢æ¡ä»¶ä¸ºï¼š

```cpp
if (startIndex >= nums.size()) {
    return;
}
```

**å…¶å®å¯ä»¥ä¸éœ€è¦åŠ ç»ˆæ­¢æ¡ä»¶ï¼Œå› ä¸ºstartIndex >= nums.size()ï¼Œæœ¬å±‚forå¾ªç¯æœ¬æ¥ä¹Ÿç»“æŸäº†**ã€‚

å®Œæ•´ä»£ç ï¼š

```js
var subsets = function(nums) {
    let result = [], path = [];
    function backtracking(index){
        result.push([...path]);
      	if(index > nums.length){ //ç»ˆæ­¢æ¡ä»¶å¯ä»¥ä¸åŠ 
          return;
        }
        for(let i=index; i<nums.length; i++){
            path.push(nums[i]);
            backtracking(i+1);
            path.pop();
        }
    }
    backtracking(0);
    return result;
};
```



## 90. å­é›† II

[90. å­é›† II](https://leetcode.cn/problems/subsets-ii/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ï¼Œè¯·ä½ è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è§£é›† ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†ã€‚è¿”å›çš„è§£é›†ä¸­ï¼Œå­é›†å¯ä»¥æŒ‰ ä»»æ„é¡ºåº æ’åˆ—ã€‚

 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [1,2,2]
è¾“å‡ºï¼š[[],[1],[1,2],[1,2,2],[2],[2,2]]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = [0]
è¾“å‡ºï¼š[[],[0]]
```

**é¢˜è§£æ€è·¯**

**å»é‡éœ€è¦å…ˆå¯¹é›†åˆæ’åº**

![](./å›¾ç‰‡/90.png)

åŒä¸€æ ‘å±‚ä¸Šé‡å¤å–2 å°±è¦è¿‡æ»¤æ‰ï¼ŒåŒä¸€æ ‘æä¸Šå°±å¯ä»¥é‡å¤å–2ï¼Œå› ä¸ºåŒä¸€æ ‘æä¸Šå…ƒç´ çš„é›†åˆæ‰æ˜¯å”¯ä¸€å­é›†ï¼

**å»é‡**

å¯¹åŒä¸€æ ‘å±‚ä½¿ç”¨è¿‡çš„å…ƒç´ è¿›è¡Œè·³è¿‡

```js
if(i>index && nums[i]===nums[i-1]){ //// æ³¨æ„è¿™é‡Œä½¿ç”¨ i > index
   continue;
}
```

å®Œæ•´ä»£ç ï¼š

```js
var subsetsWithDup = function(nums) {
    let result = [], path = [];
    let sortNums = nums.sort((a,b) => { //å»é‡éœ€è¦å…ˆå¯¹é›†åˆæ’åº
        return a - b;
    })
    function backtracking(index, nums){
        result.push([...path]);
      	if(index > nums.length - 1) { //ç»ˆæ­¢æ¡ä»¶å…¶å®å¯ä»¥ä¸åŠ ï¼Œå› ä¸ºforå¾ªç¯ä¸­è¦æ±‚indexå°äºæ•°ç»„é•¿åº¦ï¼Œåœ¨å¾ªç¯æ—¶å°±ä¸å…è®¸è¶Šç•Œ
            return
        }
        for(let i=index; i<nums.length; i++){
          // å¯¹åŒä¸€æ ‘å±‚ä½¿ç”¨è¿‡çš„å…ƒç´ è¿›è¡Œè·³è¿‡
            if(i>index && nums[i]===nums[i-1]){
                continue;
            }
            path.push(nums[i]);
            backtracking(i+1,nums);
            path.pop();
        }
    }
    backtracking(0,sortNums);
    return result;
};
```



## 491. é€’å¢å­åºåˆ—

[491. é€’å¢å­åºåˆ—](https://leetcode.cn/problems/increasing-subsequences/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾å‡ºå¹¶è¿”å›æ‰€æœ‰è¯¥æ•°ç»„ä¸­ä¸åŒçš„é€’å¢å­åºåˆ—ï¼Œé€’å¢å­åºåˆ—ä¸­ è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´  ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚

æ•°ç»„ä¸­å¯èƒ½å«æœ‰é‡å¤å…ƒç´ ï¼Œå¦‚å‡ºç°ä¸¤ä¸ªæ•´æ•°ç›¸ç­‰ï¼Œä¹Ÿå¯ä»¥è§†ä½œé€’å¢åºåˆ—çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚

 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [4,6,7,7]
è¾“å‡ºï¼š[[4,6],[4,6,7],[4,6,7,7],[4,7],[4,7,7],[6,7],[6,7,7],[7,7]]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = [4,4,3,2,1]
è¾“å‡ºï¼š[[4,4]]
```

**é¢˜è§£æ€è·¯**

æœ¬é¢˜æ±‚è‡ªå¢å­åºåˆ—ï¼Œæ˜¯ä¸èƒ½å¯¹åŸæ•°ç»„ç»è¡Œæ’åºçš„ï¼Œæ’å®Œåºçš„æ•°ç»„éƒ½æ˜¯è‡ªå¢å­åºåˆ—äº†ã€‚

**æ‰€ä»¥ä¸èƒ½ä½¿ç”¨ä¹‹å‰çš„å»é‡é€»è¾‘ï¼**

![](./å›¾ç‰‡/491.png)

**åŒä¸€çˆ¶èŠ‚ç‚¹ä¸‹çš„åŒå±‚ä¸Šä½¿ç”¨è¿‡çš„å…ƒç´ å°±ä¸èƒ½åœ¨ä½¿ç”¨äº†**

æ³¨æ„ï¼šè¿™é‡Œçš„å»é‡æ•°ç»„ï¼Œå¹¶ä¸éœ€è¦è¿›è¡Œ`pop`æ“ä½œã€‚

**åœ¨åŒä¸€æ ‘æä¸‹å…ƒç´ å¯ä»¥é‡å¤ä½¿ç”¨**

**usetæ•°ç»„ æ˜¯è®°å½•æœ¬å±‚å…ƒç´ æ˜¯å¦é‡å¤ä½¿ç”¨ï¼Œæ–°çš„ä¸€å±‚usetéƒ½ä¼šé‡æ–°å®šä¹‰ï¼ˆæ¸…ç©ºï¼‰ï¼Œæ‰€ä»¥è¦çŸ¥é“usetåªè´Ÿè´£æœ¬å±‚ï¼**

```js
var findSubsequences = function(nums) {
    let result = [], path = [];
    function backtracking(index){
        if(path.length > 1){
            result.push(path.slice());
        }
        let uset = [];
        for(let i=index; i<nums.length; i++){
          
          // å¦‚æœå½“å‰å…ƒç´ å°äºpathæ•°ç»„çš„æœ€åä¸€ä¸ªï¼Œæˆ–è€…å½“å‰æ•°å·²ç»ä½¿ç”¨è¿‡äº†
            if((path.length&&nums[i]<path[path.length-1]) || uset[nums[i]+100]){
                continue;
            }
            uset[nums[i]+100] = true;
            path.push(nums[i]);
            backtracking(i+1);
            path.pop();
          // æ³¨æ„ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰å¯¹usetæ•°ç»„è¿›è¡Œpopæ“ä½œ
        }
    }
    backtracking(0);
    return result;
};
```





## 46. å…¨æ’åˆ—

[46. å…¨æ’åˆ—](https://leetcode.cn/problems/permutations/)

ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ— ã€‚ä½ å¯ä»¥ æŒ‰ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚

 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = [0,1]
è¾“å‡ºï¼š[[0,1],[1,0]]
```


ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šnums = [1]
è¾“å‡ºï¼š[[1]]
```

**é¢˜è§£æ€è·¯**

![](./å›¾ç‰‡/46.png)

å½“æ”¶é›†å…ƒç´ çš„æ•°ç»„pathçš„å¤§å°è¾¾åˆ°å’Œnumsæ•°ç»„ä¸€æ ·å¤§çš„æ—¶å€™ï¼Œè¯´æ˜æ‰¾åˆ°äº†ä¸€ä¸ªå…¨æ’åˆ—ï¼Œä¹Ÿè¡¨ç¤ºåˆ°è¾¾äº†å¶å­èŠ‚ç‚¹ã€‚

æ¯ä¸€ä¸ªæ ‘æéƒ½éœ€è¦ä¸€ä¸ªè‡ªå·±çš„usedæ•°ç»„ã€‚

```js
var permute = function(nums) {
    const result = [], path = [];
    function backtracking(nums, k, used){
        if(path.length === k){
            result.push([...path]);
            return;
        }
        for(let i=0; i<k; i++){
            if(used[i]) continue;
            path.push(nums[i]);
            used[i] = true;
            backtracking(nums, k, used);
            path.pop();
            used[i] = false;
        }
    }

    backtracking(nums, nums.length, []);
    return result;
};
```





## 47. å…¨æ’åˆ— II

[47. å…¨æ’åˆ— II](https://leetcode.cn/problems/permutations-ii/)

ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ— nums ï¼ŒæŒ‰ä»»æ„é¡ºåº è¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚

 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [1,1,2]
è¾“å‡ºï¼š
[[1,1,2],
 [1,2,1],
 [2,1,1]]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
```

**é¢˜è§£æ€è·¯**

**å»é‡ä¸€å®šè¦å¯¹å…ƒç´ è¿›è¡Œæ’åºï¼Œè¿™æ ·æˆ‘ä»¬æ‰æ–¹ä¾¿é€šè¿‡ç›¸é‚»çš„èŠ‚ç‚¹æ¥åˆ¤æ–­æ˜¯å¦é‡å¤ä½¿ç”¨äº†**ã€‚

å¯¹åŒä¸€æ ‘å±‚ï¼Œå‰ä¸€ä½ï¼ˆä¹Ÿå°±æ˜¯nums[i-1]ï¼‰å¦‚æœä½¿ç”¨è¿‡ï¼Œé‚£ä¹ˆå°±è¿›è¡Œå»é‡ã€‚

![](E:\algorithm_note\å›æº¯\å›¾ç‰‡\47.png)

```js
var permuteUnique = function(nums) {
    nums.sort((a,b) => a - b);
    let result = [], path = [];
    function backtracking(used){
        if(path.length === nums.length){
            result.push([...path]);
            return;
        }
        for(let i=0; i<nums.length; i++){
            // åŒä¸€æ ‘å±‚ï¼šused[i-1]===falseè¡¨ç¤ºåŒä¸€æ ‘å±‚è¢«ä½¿ç”¨äº†
            // used[i - 1] == trueï¼Œè¯´æ˜åŒä¸€æ ‘ænums[i - 1]ä½¿ç”¨è¿‡
            if(i>0 && nums[i]===nums[i-1] && used[i-1]===false){ //å¦‚æœåŒä¸€æ ‘å±‚è¢«ä½¿ç”¨è¿‡ï¼Œåˆ™è·³è¿‡
                continue;
            }
            //åŒä¸€æ ‘æä¸‹
            if(!used[i]){
                used[i] = true;
                path.push(nums[i]);
                backtracking(used);
                path.pop();
                used[i] = false;
            }
        }
    }
    backtracking([]);
    return result;
};
```

å…¶å®è¿™ä¸ªé¢˜å¯¹æ ‘å±‚å»é‡å’Œå¯¹æ ‘æå»é‡éƒ½å¯ä»¥ï¼Œ

ä¹Ÿå°±æ˜¯è¯´ï¼š`used[i-1]===false` å’Œ `used[i-1]===true`éƒ½å¯ä»¥

ä½†æ˜¯**å¯¹æ ‘å±‚å»é‡æ•ˆç‡æ›´é«˜**

æ ‘å±‚ä¸Šå»é‡(used[i - 1] == false)ï¼Œçš„æ ‘å½¢ç»“æ„å¦‚ä¸‹ï¼š

![](./å›¾ç‰‡/47.1.png)

æ ‘æä¸Šå»é‡ï¼ˆused[i - 1] == trueï¼‰çš„æ ‘å‹ç»“æ„å¦‚ä¸‹ï¼š

![](./å›¾ç‰‡/47.2.png)





## 60. æ’åˆ—åºåˆ—

[60. æ’åˆ—åºåˆ—](https://leetcode.cn/problems/permutation-sequence/)

ç»™å‡ºé›†åˆ [1,2,3,...,n]ï¼Œå…¶æ‰€æœ‰å…ƒç´ å…±æœ‰ n! ç§æ’åˆ—ã€‚

æŒ‰å¤§å°é¡ºåºåˆ—å‡ºæ‰€æœ‰æ’åˆ—æƒ…å†µï¼Œå¹¶ä¸€ä¸€æ ‡è®°ï¼Œå½“ n = 3 æ—¶, æ‰€æœ‰æ’åˆ—å¦‚ä¸‹ï¼š

"123"
"132"
"213"
"231"
"312"
"321"
ç»™å®š n å’Œ kï¼Œè¿”å›ç¬¬ k ä¸ªæ’åˆ—ã€‚

 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šn = 3, k = 3
è¾“å‡ºï¼š"213"
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šn = 4, k = 9
è¾“å‡ºï¼š"2314"
```


ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šn = 3, k = 1
è¾“å‡ºï¼š"123"
```

**é¢˜è§£æ€è·¯**

- ç”¨éå†countè®°å½•å½“å‰éå†åˆ°ç¬¬å‡ ä¸ª

```js
var getPermutation = function(n, k) {
    const path = [];
    let count = 0;
    function backtracking(used){
        if(path.length === n){
            count++;
            if(count === k){
                return path.join('');
            }
            return;
        }
        for(let i=1; i<=n; i++){
            if(used[i]) continue;
            path.push(i);
            used[i] = true;
            const res = backtracking(used);
            path.pop();
            used[i] = false;
            if(res){
                return res;
            }
        }
    }

    return backtracking([]);
};
```



## 22. æ‹¬å·ç”Ÿæˆ

[22. æ‹¬å·ç”Ÿæˆ](https://leetcode.cn/problems/generate-parentheses/)

æ•°å­— n ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” æœ‰æ•ˆçš„ æ‹¬å·ç»„åˆã€‚

 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š["((()))","(()())","(())()","()(())","()()()"]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šn = 1
è¾“å‡ºï¼š["()"]
```

**é¢˜è§£æ€è·¯**

å°±æ˜¯ä¸åœé€‰æ‹¬å·ï¼Œè¦ä¹ˆé€‰å·¦æ‹¬å·ï¼Œè¦ä¹ˆé€‰å³æ‹¬å·ã€‚

å¹¶æœ‰è¿™äº›çº¦æŸçš„ï¼š

- åªè¦(æœ‰å‰©ï¼Œå°±å¯ä»¥é€‰(ã€‚ `(((((`è¿™ä¹ˆé€‰ï¼Œéƒ½è¿˜ä¸èƒ½åˆ¤å®šä¸ºéæ³•ã€‚
- å½“å‰©ä¸‹çš„)æ¯”(å¤šæ—¶ï¼Œæ‰å¯ä»¥é€‰)ï¼Œå¦åˆ™ï¼Œ)ä¸èƒ½é€‰ï¼Œé€‰äº†å°±éæ³•ã€‚å› ä¸ºï¼šå‰©ä¸‹çš„)æ¯”(å°‘ï¼Œå³ï¼Œä½¿ç”¨çš„)æ¯”(å¤šï¼Œä¸èƒ½æˆåŒæˆå¯¹ã€‚
- æè¿°èŠ‚ç‚¹çš„çŠ¶æ€æœ‰ï¼šå½“å‰æ„å»ºçš„å­—ç¬¦ä¸²ï¼Œå’Œå·¦å³æ‹¬å·æ‰€å‰©çš„æ•°é‡ã€‚

![](./å›¾ç‰‡/22.png)



```js
var generateParenthesis = function(n) {
    const res = [];
    const dfs = (left,right,str) => { // å·¦å³æ‹¬å·æ‰€å‰©çš„æ•°é‡ï¼Œstræ˜¯å½“å‰æ„å»ºçš„å­—ç¬¦ä¸²
        if(str.length === 2*n){
            res.push(str);
            return;
        }
        if(left > 0){ // åªè¦å·¦æ‹¬å·æœ‰å‰©ï¼Œå°±å¯ä»¥é€‰å®ƒï¼Œç„¶åç»§ç»­åšé€‰æ‹©ï¼ˆé€’å½’ï¼‰
            dfs(left-1, right, str+'(');
        }
        if(left < right){ // å³æ‹¬å·å‰©çš„æ¯”è¾ƒå¤šï¼Œæ‰èƒ½é€‰å³æ‹¬å·
            dfs(left,right-1,str+')');
        }
    }
    dfs(n,n,'');
    return res;
};
```





## 79. å•è¯æœç´¢

[79. å•è¯æœç´¢](https://leetcode.cn/problems/word-search/)

ç»™å®šä¸€ä¸ª m x n äºŒç»´å­—ç¬¦ç½‘æ ¼ board å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯ word ã€‚å¦‚æœ word å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚

å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚

![](./å›¾ç‰‡/79.1.jpg)

 ![](./å›¾ç‰‡/79.2.jpg)

**é¢˜è§£æ€è·¯**

ä»¥"SEE"ä¸ºä¾‹ï¼Œé¦–å…ˆè¦é€‰èµ·ç‚¹ï¼šéå†çŸ©é˜µï¼Œæ‰¾åˆ°èµ·ç‚¹Sã€‚

èµ·ç‚¹å¯èƒ½ä¸æ­¢ä¸€ä¸ªï¼ŒåŸºäºå…¶ä¸­ä¸€ä¸ªSï¼Œçœ‹çœ‹èƒ½å¦æ‰¾å‡ºå‰©ä¸‹çš„"EE"è·¯å¾„ã€‚

ä¸‹ä¸€ä¸ªå­—ç¬¦Eæœ‰å››ä¸ªå¯é€‰ç‚¹ï¼šå½“å‰ç‚¹çš„ä¸Šã€ä¸‹ã€å·¦ã€å³ã€‚

é€ä¸ªå°è¯•æ¯ä¸€ç§é€‰æ‹©ã€‚åŸºäºå½“å‰é€‰æ‹©ï¼Œä¸ºä¸‹ä¸€ä¸ªå­—ç¬¦é€‰ç‚¹ï¼Œåˆæœ‰å››ç§é€‰æ‹©ã€‚

æ¯åˆ°ä¸€ä¸ªç‚¹åšçš„äº‹æƒ…æ˜¯ä¸€æ ·çš„ã€‚DFS å¾€ä¸‹é€‰ç‚¹ï¼Œæ„å»ºè·¯å¾„ã€‚

å½“å‘ç°æŸä¸ªé€‰æ‹©ä¸å¯¹ï¼Œä¸ç”¨ç»§ç»­é€‰ä¸‹å»äº†ï¼Œç»“æŸå½“å‰é€’å½’ï¼Œè€ƒå¯Ÿåˆ«çš„é€‰æ‹©ã€‚

**é€’å½’ï¼š**

å¦‚æœå½“å‰ç‚¹æ˜¯é”™çš„ï¼Œä¸ç”¨å¾€ä¸‹é€’å½’äº†ï¼Œè¿”å›falseã€‚å¦åˆ™ç»§ç»­é€’å½’å››ä¸ªæ–¹å‘ï¼Œä¸ºå‰©ä¸‹çš„å­—ç¬¦é€‰ç‚¹ã€‚
é‚£ä¹ˆï¼Œå“ªäº›æƒ…å†µè¯´æ˜è¿™æ˜¯ä¸€ä¸ªé”™çš„ç‚¹ï¼š

- å½“å‰çš„ç‚¹ï¼Œè¶Šå‡ºçŸ©é˜µè¾¹ç•Œã€‚
- å½“å‰çš„ç‚¹ï¼Œä¹‹å‰è®¿é—®è¿‡ï¼Œä¸æ»¡è¶³ã€ŒåŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€ã€‚
- å½“å‰çš„ç‚¹ï¼Œä¸æ˜¯ç›®æ ‡ç‚¹ï¼Œæ¯”å¦‚ä½ æƒ³æ‰¾ Eï¼Œå´æ¥åˆ°äº† Dã€‚

**è®°å½•è®¿é—®è¿‡çš„ç‚¹**

ç”¨ä¸€ä¸ªäºŒç»´çŸ©é˜µ usedï¼Œè®°å½•å·²ç»è®¿é—®è¿‡çš„ç‚¹ï¼Œä¸‹æ¬¡å†é€‰æ‹©è®¿é—®è¿™ä¸ªç‚¹ï¼Œå°±ç›´æ¥è¿”å› falseã€‚

```js
var exist = function(board, word) {
    const m = board.length, n = board[0].length;
    const used = new Array(m); //å»ºç«‹usedæ•°ç»„åšæ ‡è®°
    for(let i=0; i<m; i++){
        used[i] = new Array(n);
    }
    //(row,col)å½“å‰éå†ç‚¹çš„åæ ‡, iè¡¨ç¤ºå½“å‰è€ƒå¯Ÿçš„wordå­—ç¬¦ç´¢å¼•
    const canFind = (row, col, i) => {
        if(i === word.length){ //æ•´ä¸ªå­—ç¬¦ä¸²éƒ½éå†å®Œäº†
            return true;
        }
        if(row<0 || row>=m || col<0 || col>=n){ //ç‚¹è¶Šç•Œ
            return false;
        }
        if(used[row][col] || board[row][col] !== word[i]){
            return false;
        }
        used[row][col] = true;
        const canFindResult = canFind(row+1,col,i+1) || canFind(row-1,col,i+1)
                            || canFind(row,col+1,i+1) || canFind(row,col-1,i+1);
        if(canFindResult){ //å¦‚æœæ‰¾åˆ°äº†ç­”æ¡ˆï¼Œè¿”å›true
            return true;
        }
        used[row][col] = false;
        return false;
    }

    // æ¯ä¸ªç‚¹éƒ½å¯ä»¥ä¸ºèµ·ç‚¹
    for(let i=0; i<m; i++){
        for(let j=0; j<n; j++){
            if(board[i][j] === word[0] && canFind(i,j,0)){//ä»¥ç‚¹(i,j)ä¸ºèµ·ç‚¹ï¼Œå¼€å§‹æœ
                return true;
            }
        }
    }
    return false;
};
```





## 200. å²›å±¿æ•°é‡

[200. å²›å±¿æ•°é‡](https://leetcode.cn/problems/number-of-islands/)

ç»™ä½ ä¸€ä¸ªç”± '1'ï¼ˆé™†åœ°ï¼‰å’Œ '0'ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚

å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚

 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šgrid = [
  ["1","1","1","1","0"],
  ["1","1","0","1","0"],
  ["1","1","0","0","0"],
  ["0","0","0","0","0"]
]
è¾“å‡ºï¼š1
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šgrid = [
  ["1","1","0","0","0"],
  ["1","1","0","0","0"],
  ["0","0","1","0","0"],
  ["0","0","0","1","1"]
]
è¾“å‡ºï¼š3
```

**é¢˜è§£æ€è·¯**

dfs:

- éå†é‡åˆ° 1 å³é‡åˆ°åœŸåœ°ï¼ŒåœŸåœ°è‚¯å®šåœ¨ä¸€ä¸ªå²›ä¸Šï¼Œè®¡æ•° +1
- ç„¶åå°†è¿™ä¸ªå²›å˜æˆ0

```js
var numIslands = function(grid) {
    let count = 0;
    for(let i=0; i<grid.length; i++){
        for(let j=0; j<grid[0].length; j++){
            if(grid[i][j] === '1'){
                count++;
                check(i,j, grid);
            }
        }
    }

    function check(i,j,grid){
        if(i<0 || i>=grid.length || j<0 || j>=grid[0].length || grid[i][j]=='0') return;
        grid[i][j] = '0'; //å°†ä¸º 1 çš„åœ°æ–¹å˜ä¸º0
        check(i,j+1,grid);
        check(i,j-1,grid);
        check(i+1,j,grid);
        check(i-1,j,grid);
    }
    return count;
};
```





## 130. è¢«å›´ç»•çš„åŒºåŸŸ

[130. è¢«å›´ç»•çš„åŒºåŸŸ](https://leetcode.cn/problems/surrounded-regions/)

ç»™ä½ ä¸€ä¸ª `m x n` çš„çŸ©é˜µ `board` ï¼Œç”±è‹¥å¹²å­—ç¬¦ `'X'` å’Œ `'O'` ï¼Œæ‰¾åˆ°æ‰€æœ‰è¢« `'X'` å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ `'O'` ç”¨ `'X'` å¡«å……ã€‚

![](./å›¾ç‰‡/130.jpg)

**é¢˜è§£æ€è·¯**

- å¤„åœ¨è¾¹ç¼˜çš„Oä¸ä¼šè¢«å¡«å……
- é¦–å…ˆå…ˆæ‰¾åˆ°å¤„äºè¾¹ç¼˜çš„Oï¼Œç„¶åå°†å®ƒæ ‡è®°ä¸ºNOï¼ŒåŒæ—¶ä¹Ÿå°†ä¸è¯¥Oç›¸è¿çš„Oæ ‡è®°ä¸ºNOï¼Œè¯¥è¿‡ç¨‹ä½¿ç”¨dfs
- ç„¶åéå†æ•´ä¸ªåœ°å›¾ï¼Œå°†æ ‡è®°ä¸ºNOçš„åœ°æ–¹å˜ä¸ºOï¼Œå‰©ä½™çš„åœ°æ–¹å˜ä¸ºX

```js
var solve = function(board) {
    const m = board.length, n = board[0].length;
    const dfs = (i,j) => {
        if(i<0 || i==m || j<0 ||j==n) return;
        if(board[i][j] == 'O'){ //é‡åˆ°O
            board[i][j] = 'NO'; //æŸ“è‰²ä¸ºNO
            dfs(i+1,j);
            dfs(i-1,j);
            dfs(i,j+1);
            dfs(i,j-1);
        }
    }

    for(let i=0; i<m; i++){
        for(let j=0; j<n; j++){
            if(i==0 || i==m-1 || j==0 || j==n-1){// ä½äºè¾¹ç¼˜çš„O
                if(board[i][j] == 'O') dfs(i,j);
            }
        }
    }

    for(let i=0; i<m; i++){
        for(let j=0; j<n; j++){
            if(board[i][j] == 'NO') board[i][j] = 'O';
            else if(board[i][j] == 'O') board[i][j] = 'X';
        }
    }
};
```

